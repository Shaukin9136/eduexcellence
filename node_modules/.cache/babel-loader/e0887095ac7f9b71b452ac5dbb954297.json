{"ast":null,"code":"var _jsxFileName = \"D:\\\\eduexcellence-dev\\\\src\\\\libs\\\\layouts\\\\Home\\\\components\\\\login.js\";\nimport React, { useState, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Button from \"react-bootstrap/Button\";\nimport { loginAction, getUserDetails } from \"../actions\";\nimport { GoogleLogin } from \"react-google-login\";\nimport FacebookLogin from \"react-facebook-login\";\nimport { config } from \"../../../../config\";\nimport ForgotPassword from \"./forgotPassword\";\nimport VerifyNumber from \"./verifyNumber\";\nimport \"../../../../css/modal.css\";\n\nconst Login = props => {\n  const [email, setEmail] = useState(\"\");\n  const [pwd, setPwd] = useState(\"\");\n  const [show, setShow] = useState(\"\");\n  const history = useHistory();\n\n  const handleLogin = () => {\n    if (email && email !== \"\" && pwd && pwd !== \"\") {\n      let obj = {\n        username: email.trim(),\n        password: pwd.trim()\n      };\n      handleLoginAction(obj);\n    } else {\n      alert(\"Please Enter Email and Password\");\n    }\n  };\n\n  const handleLoginAction = obj => {\n    loginAction(obj).then(res => {\n      // console.log(\"res === \", res);\n      if (res.status) {\n        getProfileData();\n      } else {\n        alert(\"Invalid Credentials\");\n      }\n    }).catch(err => {\n      console.log(\"err === \", err);\n      alert(err.result.message); // alert(\"Internal Server Error, Please Try Again\");\n    });\n  };\n\n  const getProfileData = () => {\n    props.getUserDetails().then(response => {\n      console.log(response);\n      localStorage.setItem(\"userRole\", response.role);\n      history.push(\"/admin/dashboard\");\n    }).catch(error => {\n      console.log(\"error in getuserdetails === \", error); // alert(\"Please Try Again\");\n    });\n  };\n\n  const responseGoogle = response => {\n    console.log(response);\n\n    if (response && response.profileObj && response.profileObj.googleId) {\n      // success\n      let obj = {\n        username: response.profileObj.email,\n        googleid: response.profileObj.googleId\n      };\n      handleLoginAction(obj);\n    } else {\n      // error\n      console.log(\"error ==== \", response.error); // alert(\"Please Try Again\");\n    }\n  };\n\n  const responseFacebook = response => {\n    console.log(response);\n\n    if (response && response.id) {\n      let obj = {\n        username: response.email,\n        fbid: response.id\n      };\n      handleLoginAction(obj);\n    } else {\n      alert(\"Please Try Again\");\n    }\n  };\n\n  const componentClicked = () => {};\n\n  const showLogin = status => {\n    setShow(status);\n  };\n\n  return /*#__PURE__*/React.createElement(Modal, {\n    show: true,\n    onHide: props.close,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"close-modal\",\n    \"data-dismiss\": \"modal\",\n    onClick: props.close,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, \"x\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-body white-popupp\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flexible login-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"image-part\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"/images/login_bg.jpg\",\n    alt: \"Background Logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"login-logo\",\n    src: \"/images/logo.png\",\n    alt: \"Logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 15\n    }\n  })), show === \"FORGOT\" ? /*#__PURE__*/React.createElement(ForgotPassword, {\n    showLogin: showLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 15\n    }\n  }) : show === \"VERIFY\" ? /*#__PURE__*/React.createElement(VerifyNumber, {\n    showLogin: showLogin,\n    successCallback: getProfileData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 15\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-part default\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }, \"Good Evening!\"), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"mb-28\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 17\n    }\n  }, \"Welcome Back\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"input\",\n    className: \"control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 19\n    }\n  }, \"Enter Email/Mobile number\"), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"bar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    style: {\n      position: \"absolute\",\n      top: \"5px\",\n      left: \"5px\",\n      width: \"13px\"\n    },\n    src: \"/images/icons/user.png\",\n    alt: \"icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    value: pwd,\n    onChange: e => setPwd(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"input\",\n    className: \"control-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 19\n    }\n  }, \"Please enter your password\"), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"bar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    style: {\n      position: \"absolute\",\n      top: \"6px\",\n      left: \"5px\",\n      width: \"15px\"\n    },\n    src: \"/images/icons/password.png\",\n    alt: \"icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"pull-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    onClick: () => showLogin(\"FORGOT\"),\n    className: \"show-cursor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 19\n    }\n  }, \"Forgot Password ?\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"clearfix\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    size: \"lg\",\n    onClick: handleLogin,\n    block: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 21\n    }\n  }, \"Login\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn otpbtn btn-lg btn-block\",\n    onClick: () => showLogin(\"VERIFY\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 21\n    }\n  }, \"Login via OTP\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-or\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"hr\", {\n    className: \"hr-or\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"span-or\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 19\n    }\n  }, \"or\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(GoogleLogin, {\n    clientId: config.google_client_id,\n    buttonText: \"Login with Google\",\n    onSuccess: responseGoogle,\n    onFailure: responseGoogle,\n    cookiePolicy: \"single_host_origin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(FacebookLogin, {\n    appId: config.facebook_app_id,\n    autoLoad: false,\n    textButton: \" Login with Facebook\",\n    fields: \"email\",\n    onClick: componentClicked,\n    callback: responseFacebook,\n    cssClass: \"btn btn-second btn-lg btn-block\",\n    icon: \"fa-facebook\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"inline-popups2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"member\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 19\n    }\n  }, \"Not a member yet ? \\xA0\", \" \", /*#__PURE__*/React.createElement(\"a\", {\n    onClick: props.signup,\n    \"data-toggle\": \"modal\",\n    \"data-target\": \"#basicModal2\",\n    \"data-dismiss\": \"modal\",\n    className: \"show-cursor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 21\n    }\n  }, \"Sign up\"))))))));\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getUserDetails: () => dispatch(getUserDetails())\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(Login);","map":{"version":3,"sources":["D:/eduexcellence-dev/src/libs/layouts/Home/components/login.js"],"names":["React","useState","useContext","useHistory","connect","Modal","Button","loginAction","getUserDetails","GoogleLogin","FacebookLogin","config","ForgotPassword","VerifyNumber","Login","props","email","setEmail","pwd","setPwd","show","setShow","history","handleLogin","obj","username","trim","password","handleLoginAction","alert","then","res","status","getProfileData","catch","err","console","log","result","message","response","localStorage","setItem","role","push","error","responseGoogle","profileObj","googleId","googleid","responseFacebook","id","fbid","componentClicked","showLogin","close","e","target","value","position","top","left","width","google_client_id","facebook_app_id","signup","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { loginAction, getUserDetails } from \"../actions\";\r\nimport { GoogleLogin } from \"react-google-login\";\r\nimport FacebookLogin from \"react-facebook-login\";\r\nimport { config } from \"../../../../config\";\r\n\r\nimport ForgotPassword from \"./forgotPassword\";\r\nimport VerifyNumber from \"./verifyNumber\";\r\nimport \"../../../../css/modal.css\";\r\n\r\nconst Login = (props) => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [pwd, setPwd] = useState(\"\");\r\n  const [show, setShow] = useState(\"\");\r\n  const history = useHistory();\r\n\r\n  const handleLogin = () => {\r\n    if (email && email !== \"\" && pwd && pwd !== \"\") {\r\n      let obj = {\r\n        username: email.trim(),\r\n        password: pwd.trim(),\r\n      };\r\n      handleLoginAction(obj);\r\n    } else {\r\n      alert(\"Please Enter Email and Password\");\r\n    }\r\n  };\r\n\r\n  const handleLoginAction = (obj) => {\r\n    loginAction(obj)\r\n      .then((res) => {\r\n        // console.log(\"res === \", res);\r\n        if (res.status) {\r\n          getProfileData();\r\n        } else {\r\n          alert(\"Invalid Credentials\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"err === \", err);\r\n        alert(err.result.message);\r\n        // alert(\"Internal Server Error, Please Try Again\");\r\n      });\r\n  };\r\n\r\n  const getProfileData = () => {\r\n    props\r\n      .getUserDetails()\r\n      .then((response) => {\r\n        console.log(response);\r\n        localStorage.setItem(\"userRole\", response.role);\r\n        history.push(\"/admin/dashboard\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error in getuserdetails === \", error);\r\n        // alert(\"Please Try Again\");\r\n      });\r\n  };\r\n\r\n  const responseGoogle = (response) => {\r\n    console.log(response);\r\n    if (response && response.profileObj && response.profileObj.googleId) {\r\n      // success\r\n      let obj = {\r\n        username: response.profileObj.email,\r\n        googleid: response.profileObj.googleId,\r\n      };\r\n      handleLoginAction(obj);\r\n    } else {\r\n      // error\r\n      console.log(\"error ==== \", response.error);\r\n      // alert(\"Please Try Again\");\r\n    }\r\n  };\r\n\r\n  const responseFacebook = (response) => {\r\n    console.log(response);\r\n    if (response && response.id) {\r\n      let obj = {\r\n        username: response.email,\r\n        fbid: response.id,\r\n      };\r\n      handleLoginAction(obj);\r\n    } else {\r\n      alert(\"Please Try Again\");\r\n    }\r\n  };\r\n\r\n  const componentClicked = () => {};\r\n\r\n  const showLogin = (status) => {\r\n    setShow(status);\r\n  };\r\n\r\n  return (\r\n    <Modal show={true} onHide={props.close}>\r\n      <Modal.Body>\r\n        <p className=\"close-modal\" data-dismiss=\"modal\" onClick={props.close}>\r\n          x\r\n        </p>\r\n        <div className=\"modal-body white-popupp\">\r\n          <div className=\"flexible login-wrap\">\r\n            <div className=\"image-part\">\r\n              <img src=\"/images/login_bg.jpg\" alt=\"Background Logo\" />\r\n              <img className=\"login-logo\" src=\"/images/logo.png\" alt=\"Logo\" />\r\n            </div>\r\n            {show === \"FORGOT\" ? (\r\n              <ForgotPassword showLogin={showLogin} />\r\n            ) : show === \"VERIFY\" ? (\r\n              <VerifyNumber\r\n                showLogin={showLogin}\r\n                successCallback={getProfileData}\r\n              />\r\n            ) : (\r\n              <div className=\"content-part default\">\r\n                <h3>Good Evening!</h3>\r\n                <h3 className=\"mb-28\">Welcome Back</h3>\r\n                {/* <form> */}\r\n                <div className=\"form-group\">\r\n                  <input\r\n                    type=\"text\"\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                    required={true}\r\n                  />\r\n                  <label htmlFor=\"input\" className=\"control-label\">\r\n                    Enter Email/Mobile number\r\n                  </label>\r\n                  <i className=\"bar\"></i>\r\n                  <img\r\n                    style={{\r\n                      position: \"absolute\",\r\n                      top: \"5px\",\r\n                      left: \"5px\",\r\n                      width: \"13px\",\r\n                    }}\r\n                    src=\"/images/icons/user.png\"\r\n                    alt=\"icon\"\r\n                  />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <input\r\n                    type=\"password\"\r\n                    value={pwd}\r\n                    onChange={(e) => setPwd(e.target.value)}\r\n                    required={true}\r\n                  />\r\n                  <label htmlFor=\"input\" className=\"control-label\">\r\n                    Please enter your password\r\n                  </label>\r\n                  <i className=\"bar\"></i>\r\n                  <img\r\n                    style={{\r\n                      position: \"absolute\",\r\n                      top: \"6px\",\r\n                      left: \"5px\",\r\n                      width: \"15px\",\r\n                    }}\r\n                    src=\"/images/icons/password.png\"\r\n                    alt=\"icon\"\r\n                  />\r\n                </div>\r\n\r\n                <p className=\"pull-right\">\r\n                  <a\r\n                    onClick={() => showLogin(\"FORGOT\")}\r\n                    className=\"show-cursor\"\r\n                  >\r\n                    Forgot Password ?\r\n                  </a>\r\n                </p>\r\n                <div className=\"clearfix\"></div>\r\n                <div className=\"row\">\r\n                  <div className=\"col-lg-6\">\r\n                    {/* className=\"btn btn-primary btn-lg btn-block\" */}\r\n                    <Button size=\"lg\" onClick={handleLogin} block>\r\n                      Login\r\n                    </Button>\r\n                  </div>\r\n                  <div className=\"col-lg-6\">\r\n                    <button\r\n                      className=\"btn otpbtn btn-lg btn-block\"\r\n                      onClick={() => showLogin(\"VERIFY\")}\r\n                    >\r\n                      Login via OTP\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                {/* </form> */}\r\n                <div className=\"login-or\">\r\n                  <hr className=\"hr-or\" />\r\n                  <span className=\"span-or\">or</span>\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                  <div className=\"col-lg-6\">\r\n                    <GoogleLogin\r\n                      clientId={config.google_client_id}\r\n                      buttonText=\"Login with Google\"\r\n                      onSuccess={responseGoogle}\r\n                      onFailure={responseGoogle}\r\n                      cookiePolicy={\"single_host_origin\"}\r\n                    />\r\n                  </div>\r\n                  <div className=\"col-lg-6\">\r\n                    <FacebookLogin\r\n                      appId={config.facebook_app_id}\r\n                      autoLoad={false}\r\n                      textButton=\" Login with Facebook\"\r\n                      fields=\"email\"\r\n                      onClick={componentClicked}\r\n                      callback={responseFacebook}\r\n                      cssClass=\"btn btn-second btn-lg btn-block\"\r\n                      icon=\"fa-facebook\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div id=\"inline-popups2\">\r\n                  <p className=\"member\">\r\n                    Not a member yet ? &nbsp;{\" \"}\r\n                    <a\r\n                      onClick={props.signup}\r\n                      data-toggle=\"modal\"\r\n                      data-target=\"#basicModal2\"\r\n                      data-dismiss=\"modal\"\r\n                      className=\"show-cursor\"\r\n                    >\r\n                      Sign up\r\n                    </a>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </Modal.Body>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    getUserDetails: () => dispatch(getUserDetails()),\r\n  };\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(Login);\r\n"]},"metadata":{},"sourceType":"module"}