{"ast":null,"code":"var _jsxFileName = \"D:\\\\eduexcellence-dev\\\\src\\\\containers\\\\admin\\\\course\\\\new\\\\components\\\\price.js\";\nimport React, { useState, Fragment, useEffect } from \"react\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nvar moment = require('moment');\n\nexport default (props => {\n  const [free, setFree] = useState({\n    open: false,\n    mode: \"forever\",\n    until: new Date()\n  });\n  const [price, setPrice] = useState(0);\n  const [discount, setdiscount] = useState({\n    open: false,\n    mode: \"upto\",\n    discountedPrice: 0,\n    until: new Date()\n  });\n  useEffect(() => {\n    if (props.course && props.course.pricing) {\n      const {\n        pricing\n      } = props.course;\n      console.log(\"pricing === \", pricing);\n      let free_obj = {\n        open: pricing.free\n      };\n      let discount_obj = {\n        open: pricing.discount,\n        discountedPrice: pricing.discountedPrice || 0\n      };\n\n      if (pricing.freeUntil) {\n        free_obj[\"mode\"] = \"until\";\n        free_obj[\"until\"] = moment(pricing.freeUntil, \"x\");\n      } else {\n        free_obj[\"mode\"] = \"forever\";\n      }\n\n      if (pricing.discountUntil) {\n        discount_obj[\"mode\"] = \"upto\";\n        discount_obj[\"until\"] = moment(pricing.discountUntil, \"x\");\n      } else {\n        discount_obj[\"mode\"] = \"allways\";\n      }\n\n      console.log(free_obj, discount_obj);\n      pricing.price && setPrice(pricing.price);\n      setFree(prevState => {\n        return free_obj;\n      });\n      setdiscount(prevState => {\n        return discount_obj;\n      });\n    }\n  }, [props.course]);\n\n  const handleChange = (name, value) => {\n    setdiscount(prevState => {\n      return { ...prevState,\n        [name]: value\n      };\n    });\n  };\n\n  const handleSave = () => {\n    if (price !== \"\" && price !== 0 && price !== \"0\") {\n      let obj = {\n        free: free.open,\n        discount: discount.open,\n        price: Number(price)\n      };\n      if (free.open && free.mode === \"until\") obj['freeUntil'] = moment(free.until).valueOf();\n\n      if (discount.open) {\n        obj['discountedPrice'] = discount.discountedPrice;\n        if (discount.mode === \"upto\") obj['discountUntil'] = moment(discount.until).valueOf();\n      }\n\n      props.saveCallback({\n        pricing: obj\n      });\n    } else {\n      alert(\"Please enter Course Price\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tabdb active\",\n    \"data-tab\": \"#price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"price-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    id: \"box-1\",\n    onChange: () => setFree(prevState => {\n      return { ...prevState,\n        open: !prevState.open\n      };\n    }),\n    checked: free.open,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"box-1\",\n    className: \"free-course\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, \"Check if this is a free course\"), free.open && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: free.mode === \"forever\" ? \"btn btn-success\" : \"btn btn-default\",\n    onClick: () => setFree(prevState => {\n      return { ...prevState,\n        mode: \"forever\"\n      };\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, \"Forever\"), \" or\", /*#__PURE__*/React.createElement(\"button\", {\n    className: free.mode === \"until\" ? \"btn btn-success\" : \"btn btn-default\",\n    onClick: () => setFree(prevState => {\n      return { ...prevState,\n        mode: \"until\"\n      };\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, \"Free till\"), free.mode === \"until\" && /*#__PURE__*/React.createElement(DatePicker, {\n    dateFormat: \"MM/dd/yy\",\n    minDate: new Date(),\n    selected: free.until,\n    onChange: date => setFree(prevState => {\n      return { ...prevState,\n        until: date\n      };\n    }),\n    className: \"datepic\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 43\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"user-label mt-40\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, \"Course Price\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"course-price-input\",\n    placeholder: \"$1500\",\n    value: price,\n    onChange: e => setPrice(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    id: \"box-2\",\n    onChange: () => setdiscount(prevState => {\n      return { ...prevState,\n        open: !prevState.open\n      };\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"dis-label\",\n    htmlFor: \"box-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, \"Check if this is a discounted course\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"user-label mt-40\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, \"Discounted Price\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"course-price-input\",\n    placeholder: \"$700\",\n    onChange: e => handleChange(\"discountedPrice\", e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }), discount.open && /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"yn-toggle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"display-dis\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  }, \"Display \", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    className: \"toggle\",\n    id: \"toggle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 56\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"toggle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"on\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 29\n    }\n  }, \"On\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"off\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 29\n    }\n  }, \"Off\")), /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 25\n    }\n  }, \"this course has \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 48\n    }\n  }, \"46.77%\"), \" discount\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"period\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"user-label mt-40\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 21\n    }\n  }, \"Discounted Price\"), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"list__item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"label--radio\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    className: \"radio\",\n    name: \"discount\",\n    onChange: () => setdiscount(prevState => {\n      return { ...prevState,\n        mode: \"allways\"\n      };\n    }),\n    checked: discount.mode === \"allways\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 33\n    }\n  }), \"Always\")), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"list__item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"label--radio\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    className: \"radio\",\n    name: \"discount\",\n    onChange: () => setdiscount(prevState => {\n      return { ...prevState,\n        mode: \"upto\"\n      };\n    }),\n    checked: discount.mode === \"upto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 33\n    }\n  }), \"Up to\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 25\n    }\n  }, discount.mode === \"upto\" && /*#__PURE__*/React.createElement(DatePicker, {\n    dateFormat: \"MM/dd/yy\",\n    minDate: new Date(),\n    selected: discount.until,\n    onChange: date => setdiscount(prevState => {\n      return { ...prevState,\n        until: date\n      };\n    }),\n    className: \"datepic\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 54\n    }\n  })))))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row padd-020\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-6 col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"savebtn\",\n    onClick: handleSave,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 17\n    }\n  }, \"Save\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-6 col-md-6 text-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"nxtbtn\",\n    onClick: handleSave,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 17\n    }\n  }, \"Next\"))));\n});","map":{"version":3,"sources":["D:/eduexcellence-dev/src/containers/admin/course/new/components/price.js"],"names":["React","useState","Fragment","useEffect","DatePicker","moment","require","props","free","setFree","open","mode","until","Date","price","setPrice","discount","setdiscount","discountedPrice","course","pricing","console","log","free_obj","discount_obj","freeUntil","discountUntil","prevState","handleChange","name","value","handleSave","obj","Number","valueOf","saveCallback","alert","date","e","target"],"mappings":"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","sourcesContent":["import React, { useState, Fragment, useEffect } from \"react\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nvar moment = require('moment');\r\n\r\nexport default (props) => {\r\n    const [free, setFree] = useState({open: false, mode: \"forever\", until: new Date()});\r\n    const [price, setPrice] = useState(0);\r\n    const [discount, setdiscount] = useState({open: false, mode: \"upto\", discountedPrice: 0, until: new Date() });\r\n\r\n    useEffect(() => {\r\n        if (props.course && props.course.pricing) {\r\n            const {pricing} = props.course;\r\n            console.log(\"pricing === \", pricing);\r\n            let free_obj = {\r\n                open: pricing.free,\r\n            }\r\n            let discount_obj = {\r\n                open: pricing.discount,\r\n                discountedPrice: pricing.discountedPrice || 0\r\n            }\r\n            if (pricing.freeUntil) {\r\n                free_obj[\"mode\"] = \"until\";\r\n                free_obj[\"until\"] = moment(pricing.freeUntil, \"x\");\r\n            } else {\r\n                free_obj[\"mode\"] = \"forever\";\r\n            }\r\n\r\n            if (pricing.discountUntil) {\r\n                discount_obj[\"mode\"] = \"upto\";\r\n                discount_obj[\"until\"] = moment(pricing.discountUntil, \"x\");\r\n            } else {\r\n                discount_obj[\"mode\"] = \"allways\";\r\n            }\r\n            console.log(free_obj, discount_obj);\r\n\r\n            pricing.price && setPrice(pricing.price);\r\n            setFree(prevState => { return free_obj});\r\n            setdiscount(prevState => { return discount_obj});\r\n        }\r\n    }, [props.course]);\r\n\r\n    const handleChange = (name, value) => {\r\n        setdiscount(prevState => { return {...prevState, [name]: value } })\r\n    }\r\n    const handleSave = () => {\r\n        if (price !== \"\" && price !== 0 && price !== \"0\") {\r\n            let obj = {\r\n                free: free.open,\r\n                discount: discount.open,\r\n                price: Number(price)\r\n            }\r\n            if (free.open && free.mode === \"until\") obj['freeUntil'] = moment(free.until).valueOf();\r\n        \r\n            if (discount.open) {\r\n                obj['discountedPrice'] = discount.discountedPrice;\r\n                if (discount.mode === \"upto\") obj['discountUntil'] = moment(discount.until).valueOf();\r\n            }\r\n            props.saveCallback({pricing: obj});\r\n        } else {\r\n            alert(\"Please enter Course Price\");\r\n        }\r\n    }\r\n\r\n    return <div className=\"tabdb active\" data-tab=\"#price\">\r\n        <div className=\"price-sec\">\r\n            <input type=\"checkbox\" id=\"box-1\" onChange={() => setFree(prevState => { return {...prevState, open: !prevState.open } })} checked={free.open}/>\r\n            <label htmlFor=\"box-1\" className=\"free-course\">Check if this is a free course</label>\r\n            \r\n            {free.open && <p>\r\n                <button className={free.mode === \"forever\" ? \"btn btn-success\" : \"btn btn-default\"} onClick={() => setFree(prevState => { return {...prevState, mode: \"forever\" } })}>Forever</button> or   \r\n                <button className={free.mode === \"until\" ? \"btn btn-success\" : \"btn btn-default\"} onClick={() => setFree(prevState => { return {...prevState, mode: \"until\" } })}>Free till</button> \r\n                {free.mode === \"until\" && <DatePicker\r\n                    dateFormat=\"MM/dd/yy\"\r\n                    minDate={new Date()}\r\n                    selected={free.until}\r\n                    onChange={(date) => setFree(prevState => { return {...prevState, until: date } })}\r\n                    className=\"datepic\"\r\n                />}\r\n            </p>}\r\n            <p className=\"user-label mt-40\">Course Price</p>\r\n            <input type=\"text\" className=\"course-price-input\" placeholder=\"$1500\" value={price} onChange={(e) => setPrice(e.target.value)}/>\r\n            \r\n            <input type=\"checkbox\" id=\"box-2\" onChange={() => setdiscount(prevState => { return {...prevState, open: !prevState.open } })} />\r\n            <label className=\"dis-label\" htmlFor=\"box-2\">Check if this is a discounted course</label>\r\n            <p className=\"user-label mt-40\">Discounted Price</p>\r\n            <input type=\"text\" className=\"course-price-input\" placeholder=\"$700\" onChange={(e) => handleChange(\"discountedPrice\", e.target.value)}/>\r\n            {discount.open && <Fragment>\r\n                <div className=\"yn-toggle\">\r\n                    <p className=\"display-dis\">Display <input type=\"checkbox\" className=\"toggle\" id=\"toggle\" />\r\n                        <label htmlFor=\"toggle\">\r\n                            <span className=\"on\">On</span>\r\n                            <span className=\"off\">Off</span>\r\n                        </label>\r\n                        <small>this course has <span>46.77%</span> discount</small>\r\n                    </p>\r\n                </div>\r\n                <div className=\"period\">\r\n                    <p className=\"user-label mt-40\">Discounted Price</p>\r\n                    <ul className=\"list\">\r\n                        <li className=\"list__item\">\r\n                            <label className=\"label--radio\">\r\n                                <input type=\"radio\" className=\"radio\" name=\"discount\" onChange={() => setdiscount(prevState => { return {...prevState, mode: \"allways\" } })} checked={discount.mode === \"allways\"}/>\r\n                                Always\r\n                            </label>\r\n                        </li>\r\n                        <li className=\"list__item\">\r\n                            <label className=\"label--radio\">\r\n                                <input type=\"radio\" className=\"radio\" name=\"discount\" onChange={() => setdiscount(prevState => { return {...prevState, mode: \"upto\" } })} checked={discount.mode === \"upto\"} />\r\n                                Up to\r\n                            </label>\r\n                        </li>\r\n                        <li>\r\n                        {discount.mode === \"upto\" && <DatePicker\r\n                            dateFormat=\"MM/dd/yy\"\r\n                            minDate={new Date()}\r\n                            selected={discount.until}\r\n                            onChange={(date) => setdiscount(prevState => { return {...prevState, until: date } })}\r\n                            className=\"datepic\"\r\n                        />}\r\n                            {/* <p style={{ \"position\": \"relative\" }}><input type=\"text\" className=\"datepic hasDatepicker\" id=\"datepicker5\" placeholder=\"MM / DD / YY\" />\r\n                                <i className=\"fa fa-calendar\"></i>\r\n                            </p> */}\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </Fragment>}\r\n        </div>\r\n        <br />\r\n        <br />\r\n        <hr />\r\n        <div className=\"row padd-020\">\r\n            <div className=\"col-lg-6 col-md-6\">\r\n                <button className=\"savebtn\" onClick={handleSave}>Save</button>\r\n            </div>\r\n            <div className=\"col-lg-6 col-md-6 text-right\">\r\n                <button className=\"nxtbtn\" onClick={handleSave}>Next</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n}"]},"metadata":{},"sourceType":"module"}