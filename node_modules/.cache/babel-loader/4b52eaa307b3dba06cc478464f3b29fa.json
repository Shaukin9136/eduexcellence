{"ast":null,"code":"var _jsxFileName = \"D:\\\\eduexcellence-dev\\\\src\\\\containers\\\\admin\\\\course\\\\new\\\\components\\\\dates.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { connect } from 'react-redux';\nimport AddNewDates from \"./addDates\";\nimport Loading from \"../../../../common/loading\";\nimport NoData from \"../../../../common/nodata\";\nimport { getList, createData, deleteDates } from \"../../actions\";\nimport moment from \"moment\";\n\nconst ImportantDates = props => {\n  const [open, setOpen] = useState(false);\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    if (props.course) {\n      getData(props.course._id);\n    } else {\n      setLoading(false);\n    }\n  }, [props.course]);\n\n  const getData = id => {\n    getList(`impdates?courseid=${id}`).then(res => {\n      setData(res);\n      setLoading(false);\n    }).catch(err => {\n      setLoading(false);\n    });\n  };\n\n  const handleDates = () => {\n    setOpen(prevState => !prevState);\n  };\n\n  const handleDelete = record => {\n    var r = window.confirm(\"Do You want to delete the Dates :: \" + record.name);\n\n    if (r == true) {\n      deleteDates(record._id).then(res => {\n        let _data = data.filter(i => i._id !== record._id);\n\n        setData([..._data]);\n      }).catch(err => {\n        console.log(\"err in delete dates === \", err);\n      });\n    }\n  };\n\n  const handleSave = obj => {\n    if (props.course) {\n      obj['courseid'] = props.course._id;\n      setLoading(true);\n      createData(\"impdates\", obj).then(res => {\n        setOpen(false);\n        setLoading(false);\n        setData(prevState => [...prevState, ...[res]]);\n      }).catch(err => {\n        setLoading(false);\n      });\n    } else {\n      alert(\"Create Course First\");\n      props.setTab('basic');\n    }\n  };\n\n  const getDays = (start, end) => {\n    let _s = moment(start, 'x');\n\n    let _e = moment(end, 'x');\n\n    let d = _e.diff(_s, 'days');\n\n    return d > 0 ? d + \" Days\" : 1 + \" Day\";\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tabdb active\",\n    \"data-tab\": \"#dates\",\n    style: {\n      \"padding\": \"0\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 12\n    }\n  }, loading && /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"imp-date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, data && data.length > 0 ? /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 29\n    }\n  }, \"Phase\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 29\n    }\n  }, \"Dates\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 29\n    }\n  }, \"Days\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 29\n    }\n  }, \"Location\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 29\n    }\n  }, \"Action\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    id: \"myTable\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 21\n    }\n  }, data.map(record => /*#__PURE__*/React.createElement(\"tr\", {\n    key: record._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 29\n    }\n  }, record.name), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 29\n    }\n  }, moment(record.startDate, 'x').format(\"mm/dd/yyyy\")), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 29\n    }\n  }, getDays(record.startDate, record.endDate)), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 29\n    }\n  }, record.location), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-pencil\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-trash\",\n    onClick: () => handleDelete(record),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 33\n    }\n  })))))) : /*#__PURE__*/React.createElement(NoData, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addchap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => handleDates(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-plus\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 54\n    }\n  }), \" Add Important Dates\"))), open && /*#__PURE__*/React.createElement(AddNewDates, {\n    saveCallback: handleSave,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 18\n    }\n  }));\n};\n\nconst mapStateToProps = state => {\n  return {\n    course: state.admincourse.courseData\n  };\n};\n\nexport default connect(mapStateToProps)(ImportantDates);","map":{"version":3,"sources":["D:/eduexcellence-dev/src/containers/admin/course/new/components/dates.js"],"names":["React","useState","useEffect","connect","AddNewDates","Loading","NoData","getList","createData","deleteDates","moment","ImportantDates","props","open","setOpen","data","setData","loading","setLoading","course","getData","_id","id","then","res","catch","err","handleDates","prevState","handleDelete","record","r","window","confirm","name","_data","filter","i","console","log","handleSave","obj","alert","setTab","getDays","start","end","_s","_e","d","diff","length","map","startDate","format","endDate","location","mapStateToProps","state","admincourse","courseData"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,WAAP,MAAwB,YAAxB;AACA,OAAOC,OAAP,MAAoB,4BAApB;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,SAAQC,OAAR,EAAiBC,UAAjB,EAA6BC,WAA7B,QAA+C,eAA/C;AACA,OAAOC,MAAP,MAAmB,QAAnB;;AAEA,MAAMC,cAAc,GAAIC,KAAD,IAAW;AAE9B,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBb,QAAQ,CAAC,KAAD,CAAhC;AACA,QAAM,CAACc,IAAD,EAAOC,OAAP,IAAkBf,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACgB,OAAD,EAAUC,UAAV,IAAwBjB,QAAQ,CAAC,IAAD,CAAtC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIU,KAAK,CAACO,MAAV,EAAkB;AACdC,MAAAA,OAAO,CAACR,KAAK,CAACO,MAAN,CAAaE,GAAd,CAAP;AACH,KAFD,MAEO;AACHH,MAAAA,UAAU,CAAC,KAAD,CAAV;AACH;AACJ,GANQ,EAMN,CAACN,KAAK,CAACO,MAAP,CANM,CAAT;;AAQA,QAAMC,OAAO,GAAIE,EAAD,IAAQ;AACpBf,IAAAA,OAAO,CAAE,qBAAoBe,EAAG,EAAzB,CAAP,CAAmCC,IAAnC,CAAwCC,GAAG,IAAI;AAC3CR,MAAAA,OAAO,CAACQ,GAAD,CAAP;AACAN,MAAAA,UAAU,CAAC,KAAD,CAAV;AACH,KAHD,EAGGO,KAHH,CAGSC,GAAG,IAAI;AACZR,MAAAA,UAAU,CAAC,KAAD,CAAV;AACH,KALD;AAMH,GAPD;;AAUA,QAAMS,WAAW,GAAG,MAAM;AACtBb,IAAAA,OAAO,CAACc,SAAS,IAAI,CAACA,SAAf,CAAP;AACH,GAFD;;AAIA,QAAMC,YAAY,GAAIC,MAAD,IAAY;AAC7B,QAAIC,CAAC,GAAGC,MAAM,CAACC,OAAP,CAAe,wCAAuCH,MAAM,CAACI,IAA7D,CAAR;;AACA,QAAIH,CAAC,IAAI,IAAT,EAAe;AACXtB,MAAAA,WAAW,CAACqB,MAAM,CAACT,GAAR,CAAX,CAAwBE,IAAxB,CAA6BC,GAAG,IAAI;AAChC,YAAIW,KAAK,GAAGpB,IAAI,CAACqB,MAAL,CAAYC,CAAC,IAAIA,CAAC,CAAChB,GAAF,KAAUS,MAAM,CAACT,GAAlC,CAAZ;;AACAL,QAAAA,OAAO,CAAC,CAAC,GAAGmB,KAAJ,CAAD,CAAP;AACH,OAHD,EAGGV,KAHH,CAGSC,GAAG,IAAI;AACZY,QAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCb,GAAxC;AACH,OALD;AAMH;AACJ,GAVD;;AAYA,QAAMc,UAAU,GAAIC,GAAD,IAAS;AACxB,QAAI7B,KAAK,CAACO,MAAV,EAAkB;AACdsB,MAAAA,GAAG,CAAC,UAAD,CAAH,GAAkB7B,KAAK,CAACO,MAAN,CAAaE,GAA/B;AACAH,MAAAA,UAAU,CAAC,IAAD,CAAV;AACAV,MAAAA,UAAU,CAAC,UAAD,EAAaiC,GAAb,CAAV,CAA4BlB,IAA5B,CAAiCC,GAAG,IAAI;AACpCV,QAAAA,OAAO,CAAC,KAAD,CAAP;AACAI,QAAAA,UAAU,CAAC,KAAD,CAAV;AACAF,QAAAA,OAAO,CAACY,SAAS,IAAI,CAAC,GAAGA,SAAJ,EAAe,GAAG,CAACJ,GAAD,CAAlB,CAAd,CAAP;AACH,OAJD,EAIGC,KAJH,CAISC,GAAG,IAAI;AACZR,QAAAA,UAAU,CAAC,KAAD,CAAV;AACH,OAND;AAOH,KAVD,MAUO;AACHwB,MAAAA,KAAK,CAAC,qBAAD,CAAL;AACA9B,MAAAA,KAAK,CAAC+B,MAAN,CAAa,OAAb;AACH;AACJ,GAfD;;AAiBA,QAAMC,OAAO,GAAG,CAACC,KAAD,EAAQC,GAAR,KAAgB;AAC5B,QAAIC,EAAE,GAAGrC,MAAM,CAACmC,KAAD,EAAQ,GAAR,CAAf;;AACA,QAAIG,EAAE,GAAGtC,MAAM,CAACoC,GAAD,EAAM,GAAN,CAAf;;AACA,QAAIG,CAAC,GAAGD,EAAE,CAACE,IAAH,CAAQH,EAAR,EAAY,MAAZ,CAAR;;AACA,WAAOE,CAAC,GAAG,CAAJ,GAAQA,CAAC,GAAG,OAAZ,GAAsB,IAAG,MAAhC;AACH,GALD;;AAOA,sBAAO;AAAK,IAAA,SAAS,EAAC,cAAf;AAA8B,gBAAS,QAAvC;AAAgD,IAAA,KAAK,EAAE;AAAE,iBAAW;AAAb,KAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACNhC,OAAO,iBAAI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADL,eAEH;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKF,IAAI,IAAIA,IAAI,CAACoC,MAAL,GAAc,CAAtB,gBACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALJ,CADJ,CADJ,eAUI;AAAO,IAAA,EAAE,EAAC,SAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKpC,IAAI,CAACqC,GAAL,CAAStB,MAAM,iBAAI;AAAI,IAAA,GAAG,EAAEA,MAAM,CAACT,GAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAChB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKS,MAAM,CAACI,IAAZ,CADgB,eAEhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKxB,MAAM,CAACoB,MAAM,CAACuB,SAAR,EAAmB,GAAnB,CAAN,CAA8BC,MAA9B,CAAqC,YAArC,CAAL,CAFgB,eAGhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKV,OAAO,CAACd,MAAM,CAACuB,SAAR,EAAmBvB,MAAM,CAACyB,OAA1B,CAAZ,CAHgB,eAIhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKzB,MAAM,CAAC0B,QAAZ,CAJgB,eAKhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAG,IAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI;AAAG,IAAA,SAAS,EAAC,aAAb;AAA2B,IAAA,OAAO,EAAE,MAAM3B,YAAY,CAACC,MAAD,CAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CALgB,CAAnB,CADL,CAVJ,CADH,gBAuBC,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAxBN,CAFG,eA4BH;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAG;AAAQ,IAAA,OAAO,EAAE,MAAMH,WAAW,EAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAsC;AAAG,IAAA,SAAS,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAtC,yBAAH,CADJ,CA5BG,EA+BFd,IAAI,iBAAI,oBAAC,WAAD;AAAa,IAAA,YAAY,EAAE2B,UAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA/BN,CAAP;AAiCH,CAjGD;;AAmGA,MAAMiB,eAAe,GAAIC,KAAD,IAAW;AAC/B,SAAO;AAAEvC,IAAAA,MAAM,EAAEuC,KAAK,CAACC,WAAN,CAAkBC;AAA5B,GAAP;AACH,CAFD;;AAIA,eAAezD,OAAO,CAClBsD,eADkB,CAAP,CAEb9C,cAFa,CAAf","sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport { connect } from 'react-redux'\r\nimport AddNewDates from \"./addDates\";\r\nimport Loading from \"../../../../common/loading\";\r\nimport NoData from \"../../../../common/nodata\";\r\nimport {getList, createData, deleteDates} from \"../../actions\";\r\nimport moment from \"moment\";\r\n\r\nconst ImportantDates = (props) => {\r\n\r\n    const [open, setOpen] = useState(false);\r\n    const [data, setData] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        if (props.course) {\r\n            getData(props.course._id);\r\n        } else {\r\n            setLoading(false);\r\n        }\r\n    }, [props.course])\r\n\r\n    const getData = (id) => {\r\n        getList(`impdates?courseid=${id}`).then(res => {\r\n            setData(res);\r\n            setLoading(false)\r\n        }).catch(err => {\r\n            setLoading(false)\r\n        })\r\n    }\r\n\r\n\r\n    const handleDates = () => {\r\n        setOpen(prevState => !prevState);\r\n    }\r\n\r\n    const handleDelete = (record) => {\r\n        var r = window.confirm(\"Do You want to delete the Dates :: \"+ record.name);\r\n        if (r == true) {\r\n            deleteDates(record._id).then(res => {\r\n                let _data = data.filter(i => i._id !== record._id);\r\n                setData([..._data])\r\n            }).catch(err => {\r\n                console.log(\"err in delete dates === \", err);\r\n            })\r\n        }\r\n    }\r\n\r\n    const handleSave = (obj) => {\r\n        if (props.course) {\r\n            obj['courseid'] = props.course._id\r\n            setLoading(true);\r\n            createData(\"impdates\", obj).then(res => {\r\n                setOpen(false);\r\n                setLoading(false);\r\n                setData(prevState => [...prevState, ...[res]])\r\n            }).catch(err => {\r\n                setLoading(false);\r\n            })\r\n        } else {\r\n            alert(\"Create Course First\");\r\n            props.setTab('basic');\r\n        }\r\n    }\r\n\r\n    const getDays = (start, end) => {\r\n        let _s = moment(start, 'x'); \r\n        let _e = moment(end, 'x');\r\n        let d = _e.diff(_s, 'days');\r\n        return d > 0 ? d + \" Days\" : 1 +\" Day\"; \r\n    }\r\n\r\n    return <div className=\"tabdb active\" data-tab=\"#dates\" style={{ \"padding\": \"0\" }}>\r\n    {loading && <Loading />}\r\n        <div className=\"imp-date\">\r\n            {data && data.length > 0 ?\r\n                <table>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Phase</th>\r\n                            <th>Dates</th>\r\n                            <th>Days</th>\r\n                            <th>Location</th>\r\n                            <th>Action</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody id=\"myTable\">\r\n                        {data.map(record => <tr key={record._id}>\r\n                            <td>{record.name}</td>\r\n                            <td>{moment(record.startDate, 'x').format(\"mm/dd/yyyy\")}</td>\r\n                            <td>{getDays(record.startDate, record.endDate)}</td>\r\n                            <td>{record.location}</td>\r\n                            <td>\r\n                                <i className=\"fa fa-pencil\"></i> \r\n                                <i className=\"fa fa-trash\" onClick={() => handleDelete(record)}></i></td>\r\n                        </tr>)}\r\n                    </tbody>\r\n                </table>\r\n            : <NoData />}\r\n        </div>\r\n        <div className=\"addchap\">\r\n            <p><button onClick={() => handleDates()}><i className=\"fa fa-plus\"></i> Add Important Dates</button></p>\r\n        </div>\r\n        {open && <AddNewDates saveCallback={handleSave}/>}\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return { course: state.admincourse.courseData };\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps\r\n)(ImportantDates);"]},"metadata":{},"sourceType":"module"}