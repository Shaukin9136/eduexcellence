{"ast":null,"code":"var _jsxFileName = \"D:\\\\eduexcellence-dev\\\\src\\\\containers\\\\admin\\\\teacher\\\\new\\\\index.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { connect } from 'react-redux';\nimport \"../../../../css/adminpages.css\";\nimport BasicInfo from \"./components/basicInfo\";\nimport Education from \"./components/education\";\nimport Qualification from \"./components/qualification\";\nimport Skill from \"./components/skill\";\nimport Address from \"./components/address\";\nimport { createCourse, updateCourse, saveCourse, saveThumb, getCourse } from \"../actions\"; // export default (props) => {\n// const [current, setTab] = useState(\"basic\");\n// const history = useHistory();\n\nconst NewTeacher = props => {\n  const [current, setTab] = useState('basic');\n  const [courseData, setCourse] = useState(null);\n  const [thumbFile, setThumbFile] = useState(null);\n  const [teaser, setTeaser] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n  const tabs = [{\n    key: \"basic\",\n    value: \"Basic Info\",\n    prev: null,\n    next: \"curriculum\"\n  }, {\n    key: \"education\",\n    value: \"Education\",\n    prev: \"basic\",\n    next: \"dates\"\n  }, {\n    key: \"qualification\",\n    value: \"Qualification\",\n    prev: \"dates\",\n    next: \"price\"\n  }, {\n    key: \"skill\",\n    value: \"Skill\",\n    prev: \"media\",\n    next: \"seo\"\n  }, {\n    key: \"address\",\n    value: \"Address\",\n    prev: \"price\",\n    next: null\n  }];\n  useEffect(() => {\n    let params = props.match.params;\n\n    if (params && params.id !== \"new\") {\n      setLoading(true);\n      props.getCourse(params.id).then(res => {\n        setCourse(res.result.data);\n        setLoading(false);\n      }); // .catch(err => {\n      // alert(\"Invalid Teacher\");\n      // history.push(\"/admin/teacher\");\n      // });\n    }\n  }, []);\n\n  const handleBack = () => {\n    history.push(\"/admin/teacher\");\n  };\n\n  const handleSave = obj => {\n    const {\n      teacher\n    } = props;\n    let next = tabs.filter(i => i.key === current);\n\n    if (teacher) {\n      props.updateCourse(obj, teacher._id).then(res => {\n        if (next && next[0] && next[0].next) {\n          setTab(next[0].next);\n        } else {\n          handleBack();\n        }\n      }).catch(err => {\n        console.log(\"err === \", err);\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dash-data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"courses-strip\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flexible\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"course-side\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"/images/icons/teachers-icon.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }), \" Add teachers\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"addnew\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleBack,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-plus\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  }), \" Back to teachers list\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"course-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"tab-nav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"bottom-border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }), tabs.map(item => /*#__PURE__*/React.createElement(\"li\", {\n    key: item.key,\n    className: current === item.key ? \"tab-nav__item active\" : \"tab-nav__item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    onClick: () => setTab(item.key),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 124\n    }\n  }, item.value)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, current === \"basic\" && /*#__PURE__*/React.createElement(BasicInfo, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 35\n    }\n  }), current === \"education\" && /*#__PURE__*/React.createElement(Education, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 39\n    }\n  }), current === \"qualification\" && /*#__PURE__*/React.createElement(Qualification, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 43\n    }\n  }), current === \"skill\" && /*#__PURE__*/React.createElement(Skill, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 35\n    }\n  }), current === \"address\" && /*#__PURE__*/React.createElement(Address, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 37\n    }\n  }))));\n};\n\nconst mapStateToProps = state => {\n  return {\n    course: state.admincourse.courseData\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    createCourse: obj => dispatch(createCourse(obj)),\n    updateCourse: (obj, id) => dispatch(updateCourse(obj, id)),\n    saveThumb: (file, obj) => dispatch(saveThumb(file, obj)),\n    getCourse: id => dispatch(getCourse(id))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewTeacher);","map":{"version":3,"sources":["D:/eduexcellence-dev/src/containers/admin/teacher/new/index.js"],"names":["React","useState","useEffect","useHistory","connect","BasicInfo","Education","Qualification","Skill","Address","createCourse","updateCourse","saveCourse","saveThumb","getCourse","NewTeacher","props","current","setTab","courseData","setCourse","thumbFile","setThumbFile","teaser","setTeaser","loading","setLoading","history","tabs","key","value","prev","next","params","match","id","then","res","result","data","handleBack","push","handleSave","obj","teacher","filter","i","_id","catch","err","console","log","map","item","mapStateToProps","state","course","admincourse","mapDispatchToProps","dispatch","file"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { connect } from 'react-redux'\r\nimport \"../../../../css/adminpages.css\";\r\nimport BasicInfo from \"./components/basicInfo\";\r\nimport Education from \"./components/education\";\r\nimport Qualification from \"./components/qualification\";\r\nimport Skill from \"./components/skill\";\r\nimport Address from \"./components/address\";\r\n\r\nimport { createCourse, updateCourse, saveCourse, saveThumb, getCourse } from \"../actions\";\r\n\r\n// export default (props) => {\r\n  // const [current, setTab] = useState(\"basic\");\r\n  // const history = useHistory();\r\n  \r\n const NewTeacher = (props) => {\r\n    const [current, setTab] = useState('basic');\r\n    const [courseData, setCourse] = useState(null);\r\n    const [thumbFile, setThumbFile] = useState(null);\r\n    const [teaser, setTeaser] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const history = useHistory(); \r\n  \r\n  const tabs = [\r\n    { key: \"basic\", value: \"Basic Info\", prev: null, next: \"curriculum\" },\r\n    { key: \"education\", value: \"Education\", prev: \"basic\", next: \"dates\" },\r\n\r\n    { key: \"qualification\", value: \"Qualification\", prev: \"dates\", next: \"price\" },\r\n    { key: \"skill\", value: \"Skill\", prev: \"media\", next: \"seo\" },\r\n    { key: \"address\", value: \"Address\", prev: \"price\", next: null },\r\n  ];\r\n  \r\n  \r\n      useEffect(() => {\r\n        let params = props.match.params;\r\n        if (params && params.id !== \"new\") {\r\n            setLoading(true);\r\n            props.getCourse(params.id).then(res => {\r\n                setCourse(res.result.data);\r\n                setLoading(false);\r\n            })\r\n\t\t\t// .catch(err => {\r\n                // alert(\"Invalid Teacher\");\r\n                // history.push(\"/admin/teacher\");\r\n            // });\r\n        }\r\n    }, []);\r\n\r\n  const handleBack = () => {\r\n    history.push(\"/admin/teacher\");\r\n  };\r\n  \r\n  \r\n     const handleSave = (obj) => {\r\n        const { teacher } = props;\r\n        let next = tabs.filter(i => i.key === current);\r\n        if (teacher) {\r\n            props.updateCourse(obj, teacher._id).then(res => {\r\n                if (next && next[0] && next[0].next) {\r\n                    setTab(next[0].next);\r\n                } else {\r\n                    handleBack();\r\n                }\r\n            }).catch(err => {\r\n                console.log(\"err === \", err);\r\n            })\r\n        } \r\n\t }\r\n\t\r\n\r\n  return  <div className=\"dash-data\">\r\n      <div className=\"courses-strip\">\r\n        <div className=\"flexible\">\r\n          <div className=\"course-side\">\r\n            <img src=\"/images/icons/teachers-icon.png\" /> Add teachers\r\n          </div>\r\n          <div className=\"addnew\">\r\n            <button onClick={handleBack}>\r\n              <i className=\"fa fa-plus\"></i> Back to teachers list\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"course-title\">\r\n\r\n        <ul className=\"tab-nav\">\r\n          <span className=\"bottom-border\"></span>\r\n          {tabs.map(item => <li key={item.key} className={current === item.key ? \"tab-nav__item active\" : \"tab-nav__item\"}><a onClick={() => setTab(item.key)}>{item.value}</a></li>)}\r\n        </ul>\r\n        <div className=\"form-sec\">\r\n\r\n          {current === \"basic\" && <BasicInfo />}\r\n\r\n          {current === \"education\" && <Education />}\r\n\r\n          {current === \"qualification\" && <Qualification />}\r\n\r\n          {current === \"skill\" && <Skill />}\r\n\r\n          {current === \"address\" && <Address />}\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  \r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return { course: state.admincourse.courseData };\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        createCourse: (obj) => (dispatch(createCourse(obj))),\r\n        updateCourse: (obj, id) => (dispatch(updateCourse(obj, id))),\r\n        saveThumb: (file, obj) => (dispatch(saveThumb(file, obj))),\r\n        getCourse: (id) => (dispatch(getCourse(id)))\r\n    };\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(NewTeacher);"]},"metadata":{},"sourceType":"module"}